<!DOCTYPE html>
<html lang="ar" dir="rtl" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- 
    ================================================================
    SEO والعلامات
    ================================================================
    -->
    <title>Bancfy | مستقبل التمويل الشخصي مع الذكاء الاصطناعي و Kakebo</title>
    <meta name="description" content="Bancfy هو التطبيق النهائي لصحتك المالية. استخدم طريقة Kakebo والذكاء الاصطناعي والألعاب والتعليم للتحكم في نفقاتك والادخار وتحقيق أهدافك. انضم إلى قائمة الانتظار!">
    <meta name="keywords" content="Bancfy، التمويل الشخصي، تطبيق الميزانية، طريقة Kakebo، توفير المال، الصحة المالية، الذكاء الاصطناعي، الألعاب، bancbot، تتبع النفقات، الاستثمار، العملات المشفرة">
    
    <!-- أيقونة المفضلة -->
    <link rel="icon" href="/images/logo.png" type="image/png">
    
    <!-- العلامة المتعارف عليها (Canonical) -->
    <link rel="canonical" href="https://www.bancfy.com/ar/" />

    <!-- علامات Hreflang -->
    <link rel="alternate" hreflang="es" href="https://www.bancfy.com/es/" />
    <link rel="alternate" hreflang="ca" href="https://www.bancfy.com/ca/" />
    <link rel="alternate" hreflang="eu" href="https://www.bancfy.com/eu/" />
    <link rel="alternate" hreflang="en" href="https://www.bancfy.com/" />
    <link rel="alternate" hreflang="de" href="https://www.bancfy.com/de/" />
    <link rel="alternate" hreflang="de-CH" href="https://www.bancfy.com/de-ch/" />
    <link rel="alternate" hreflang="fr" href="https://www.bancfy.com/fr/" />
    <link rel="alternate" hreflang="it" href="https://www.bancfy.com/it/" />
    <link rel="alternate" hreflang="pt" href="https://www.bancfy.com/pt/" />
    <link rel="alternate" hreflang="ja" href="https://www.bancfy.com/ja/" />
    <link rel="alternate" hreflang="ko" href="https://www.bancfy.com/ko/" />
    <link rel="alternate" hreflang="zh" href="https://www.bancfy.com/zh/" />
    <link rel="alternate" hreflang="ar" href="https://www.bancfy.com/ar/" />
    <link rel="alternate" hreflang="x-default" href="https://www.bancfy.com/" />

    <!-- البيانات المنظمة (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Bancfy",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "iOS, Android, Web",
      "description": "Bancfy هو تطبيق للتمويل الشخصي يجمع بين طريقة Kakebo والذكاء الاصطناعي.",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "author": {
        "@type": "Organization",
        "name": "Bancfy"
      }
    }
    </script>
    
    <meta name="author" content="Bancfy">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.bancfy.com/ar/">
    <meta property="og:title" content="Bancfy | تطبيقك المالي مع الذكاء الاصطناعي و Kakebo">
    <meta property="og:image" content="https://www.bancfy.com/images/logo.png">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- تكوين Tailwind -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        navy: '#0A2540',
                        gold: '#C8B273',
                        'gold-hover': '#bda66b',
                        'neon-cian': '#00FFFF',
                        'neon-fucsia': '#F50057',
                        'banhyde-bg': '#040C18',
                        'banhyde-glass': 'rgba(10, 25, 47, 0.85)',
                        'light-gray': '#F7F7F7'
                    },
                    fontFamily: {
                        sans: ['Urbanist', 'sans-serif'],
                    },
                    boxShadow: {
                        'neon-cian': '0 0 15px rgba(0, 255, 255, 0.5)',
                        'neon-fucsia': '0 0 15px rgba(245, 0, 87, 0.5)',
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts: Urbanist -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- أنماط مخصصة -->
    <style>
        /* --- CORE STYLES --- */
        body {
            font-family: 'Urbanist', sans-serif;
            transition: background-color 0.5s ease, color 0.5s ease;
            overflow-x: hidden;
        }

        /* --- GLITCH EFFECT ANIMATION --- */
        .glitch-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #000;
            z-index: 9999;
            pointer-events: none;
            opacity: 0;
        }
        
        .glitching .glitch-overlay {
            display: block;
            animation: glitch-anim 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
        }

        @keyframes glitch-anim {
            0% { opacity: 0; transform: translate(0); }
            10% { opacity: 1; transform: translate(-5px, 5px); background: #0A2540; }
            20% { transform: translate(5px, -5px); background: #F50057; clip-path: inset(10% 0 80% 0); }
            30% { transform: translate(-5px, 5px); background: #00FFFF; clip-path: inset(80% 0 10% 0); }
            40% { transform: translate(5px, -5px); background: #040C18; clip-path: inset(40% 0 40% 0); }
            50% { opacity: 1; transform: translate(0); filter: invert(1); }
            100% { opacity: 0; transform: translate(0); }
        }

        /* --- 3D CAROUSEL (8 ITEMS) --- */
        .carousel-scene {
            perspective: 1200px;
            height: 700px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            padding-top: 20px;
            padding-bottom: 20px;
        }
        
        .carousel-container {
            width: 260px;
            height: 520px;
            position: relative;
            transform-style: preserve-3d;
            transform: translateZ(-400px);
            transition: transform 1s;
            animation: rotate-carousel 40s infinite linear;
        }

        .carousel-item {
            position: absolute;
            width: 240px;
            height: 500px;
            left: 10px;
            top: 10px;
            border-radius: 24px;
            background-size: cover;
            background-position: center;
            opacity: 0.95;
            border: 2px solid transparent;
            transition: all 0.5s ease;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }

        /* Calculations for 8 items (360 / 8 = 45deg) */
        .carousel-item:nth-child(1) { transform: rotateY(0deg) translateZ(400px); }
        .carousel-item:nth-child(2) { transform: rotateY(45deg) translateZ(400px); }
        .carousel-item:nth-child(3) { transform: rotateY(90deg) translateZ(400px); }
        .carousel-item:nth-child(4) { transform: rotateY(135deg) translateZ(400px); }
        .carousel-item:nth-child(5) { transform: rotateY(180deg) translateZ(400px); }
        .carousel-item:nth-child(6) { transform: rotateY(225deg) translateZ(400px); }
        .carousel-item:nth-child(7) { transform: rotateY(270deg) translateZ(400px); }
        .carousel-item:nth-child(8) { transform: rotateY(315deg) translateZ(400px); }

        @keyframes rotate-carousel {
            from { transform: translateZ(-400px) rotateY(0deg); }
            to { transform: translateZ(-400px) rotateY(-360deg); }
        }

        .carousel-scene:hover .carousel-container { animation-play-state: paused; }

        /* Banhyde Carousel */
        .dark .carousel-item {
            border: 1px solid #00FFFF;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            filter: brightness(0.85) contrast(1.1);
        }

        /* --- SMARTPHONE MOCKUP --- */
        .smartphone-mockup {
            position: relative;
            width: 290px;
            height: 600px;
            background: #000;
            border-radius: 45px;
            border: 8px solid #1a1a1a;
            box-shadow: 0 25px 50px rgba(0,0,0,0.4);
            overflow: hidden;
            transition: all 0.5s ease;
            margin: 0 auto;
            z-index: 20;
        }
        .smartphone-screen { width: 100%; height: 100%; background: #fff; overflow: hidden; position: relative; }
        .smartphone-notch {
            position: absolute; top: 0; left: 50%; transform: translateX(-50%);
            width: 130px; height: 28px; background: #1a1a1a;
            border-bottom-left-radius: 18px; border-bottom-right-radius: 18px; z-index: 30;
        }

        /* Banhyde Mockup */
        .dark .smartphone-mockup {
            border-color: #0A192F;
            box-shadow: 0 0 50px rgba(0, 255, 255, 0.15);
        }

        /* --- UTILITIES --- */
        .reveal {
            opacity: 0; transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        .reveal.visible { opacity: 1; transform: translateY(0); }

        /* FAQ Transition */
        .faq-answer {
            max-height: 0; overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding 0.5s ease;
        }
        .faq-item.active .faq-answer { max-height: 500px; padding-top: 1rem; }
        .faq-arrow { transition: transform 0.3s ease; }
        .faq-item.active .faq-arrow { transform: rotate(180deg); }

        /* Banhyde Specifics */
        .dark body {
            background-color: #040C18;
            background-image: linear-gradient(rgba(0, 255, 255, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
        }
        
        /* Definición explícita de tarjeta banhyde */
        .banhyde-card {
            background-color: transparent; 
        }
        .dark .banhyde-card {
            background-color: rgba(10, 25, 47, 0.7) !important;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 255, 255, 0.25);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }
        .dark .banhyde-card:hover {
            border-color: #00FFFF;
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.2);
        }
        
        /* Banhyde Inputs/Forms */
        .dark input, .dark textarea {
            background-color: rgba(4, 12, 24, 0.6) !important;
            border: 1px solid rgba(0, 255, 255, 0.3) !important;
            color: #fff !important;
        }
        .dark input:focus, .dark textarea:focus {
            border-color: #00FFFF !important;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3) !important;
        }
        .dark input::placeholder, .dark textarea::placeholder {
            color: rgba(255,255,255,0.5);
        }

        /* App Bar flotante */
        header.app-bar {
            position: fixed;
            top: 1rem;
            left: 50%;
            transform: translateX(-50%);
            width: 92%;
            max-width: 1200px;
            border-radius: 9999px; /* Pill shape */
        }
        
        /* Dropdown Fix */
        .group:hover .group-hover\:block {
            display: block;
        }
        /* Ajuste para RTL: posición del dropdown */
        #lang-dropdown {
            padding-top: 0.5rem; 
            margin-top: 0;
            left: 0; /* En RTL, queremos que se alinee a la izquierda del contenedor */
            right: auto;
        }
        
        .lang-inner {
            background-color: white;
            border-radius: 1rem; /* ACTUALIZADO: Bordes redondeados (16px) como en versión CA */
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .dark .lang-inner {
            background-color: rgba(10, 25, 47, 0.95);
            border: 1px solid rgba(0, 255, 255, 0.3);
        }
    </style>

    <!-- Script de Detección de Modo (Nuevo) -->
    <script>
        if (localStorage.getItem('banhydeMode') === 'true') {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
</head>
<body class="bg-white text-navy antialiased selection:bg-gold selection:text-white dark:selection:bg-neon-cian dark:selection:text-black">

    <!-- Overlay para Efecto Glitch -->
    <div class="glitch-overlay"></div>

    <!-- ========== HEADER ========== -->
    <header class="app-bar z-50 transition-all duration-300 bg-white/70 dark:bg-banhyde-bg/60 backdrop-blur-xl border border-gray-200 dark:border-neon-cian/30 shadow-xl">
        <nav class="px-6 py-3 flex justify-between items-center">
            
            <!-- Logo -->
            <a href="#" class="flex items-center gap-3 group">
                <img src="/images/logo.png" alt="Bancfy Logo" class="w-10 h-10 rounded-full object-cover shadow-sm group-hover:scale-105 transition-transform">
                <span class="text-xl font-bold text-navy dark:text-white dark:group-hover:text-neon-cian transition-colors">Bancfy</span>
            </a>

            <!-- Menu Desktop -->
            <div class="hidden lg:flex items-center space-x-6">
                <a href="#hero" class="text-sm font-bold hover:text-gold dark:text-gray-300 dark:hover:text-neon-cian transition-colors">الرئيسية</a>
                <a href="#features" class="text-sm font-bold hover:text-gold dark:text-gray-300 dark:hover:text-neon-cian transition-colors">الميزات</a>
                <!-- Link Blog Añadido -->
                <a href="/ar/blog.html" class="text-sm font-bold hover:text-gold dark:text-gray-300 dark:hover:text-neon-cian transition-colors">المدونة</a>
                <a href="#story" class="text-sm font-bold hover:text-gold dark:text-gray-300 dark:hover:text-neon-cian transition-colors">القصة</a>
                <a href="#faq" class="text-sm font-bold hover:text-gold dark:text-gray-300 dark:hover:text-neon-cian transition-colors">الأسئلة</a>
                <a href="#contact" class="text-sm font-bold hover:text-gold dark:text-gray-300 dark:hover:text-neon-cian transition-colors">تواصل معنا</a>
                
                <!-- Toggle Mode Mini -->
                <button onclick="toggleBanhydeMode()" class="flex items-center justify-center w-8 h-8 rounded-full border border-navy/20 dark:border-neon-cian/50 text-sm font-bold hover:bg-gray-100 dark:hover:bg-neon-cian/10 dark:text-white transition-all">
                    <span class="dark:hidden">☾</span>
                    <span class="hidden dark:inline text-neon-cian">☀</span>
                </button>

                <!-- Selector Idioma -->
                <div class="relative group h-10 flex items-center">
                    <button id="desktop-lang-btn" class="flex items-center gap-2 text-sm font-bold text-navy dark:text-white hover:text-gold dark:hover:text-neon-cian px-2 py-1 rounded-full hover:bg-gray-50 dark:hover:bg-white/5 transition-all">
                        <img src="https://flagcdn.com/w20/ae.png" alt="AR" class="w-5 rounded-sm shadow-sm" id="desktop-flag-img">
                        <span id="desktop-lang-code">AR</span>
                        <svg class="w-3 h-3 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <!-- Ajustado para RTL: left-0 en lugar de right-0 -->
                    <div id="lang-dropdown" class="absolute left-0 top-full w-48 hidden group-hover:block pt-2">
                        <div class="lang-inner max-h-80 overflow-y-auto">
                            <!-- Inyectado por JS -->
                        </div>
                    </div>
                </div>
            </div>
            
             <!-- Menu Mobile Button -->
             <button id="mobile-menu-btn" class="lg:hidden text-navy dark:text-white p-2">
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden lg:hidden bg-white dark:bg-banhyde-bg border-t dark:border-neon-cian/20 rounded-b-3xl absolute w-full left-0 top-full shadow-2xl overflow-hidden transition-all text-right">
             <div class="flex flex-col p-6 space-y-4">
                 <a href="#features" class="block text-lg font-bold text-navy dark:text-white">الميزات</a>
                 <a href="/ar/blog.html" class="block text-lg font-bold text-navy dark:text-white">المدونة</a>
                 <a href="#faq" class="block text-lg font-bold text-navy dark:text-white">الأسئلة الشائعة</a>
                 <a href="#contact" class="block text-lg font-bold text-navy dark:text-white">تواصل معنا</a>
                 
                 <!-- ACTUALIZADO: Toggle Mode + Idiomas (Desplegable) -->
                 <div class="pt-4 mt-2 border-t border-gray-100 dark:border-gray-800">
                     <!-- Toggle Mode (Añadido para móvil) -->
                     <div class="flex items-center justify-between mb-4">
                         <span class="text-xs font-bold text-gray-400 uppercase tracking-wider">الوضع</span>
                         <button onclick="toggleBanhydeMode()" class="flex items-center justify-center w-10 h-10 rounded-full border border-navy/20 dark:border-neon-cian/50 text-sm font-bold hover:bg-gray-100 dark:hover:bg-neon-cian/10 dark:text-white transition-all">
                             <span class="dark:hidden">☾</span>
                             <span class="hidden dark:inline text-neon-cian">☀</span>
                         </button>
                     </div>

                     <!-- SELECTOR DESPLEGABLE MOVIL -->
                     <button id="mobile-lang-btn" class="w-full flex justify-between items-center text-lg font-bold text-navy dark:text-white py-2 group">
                         <div class="flex items-center gap-3">
                             <span>اللغة:</span>
                             <div class="flex items-center gap-2 px-3 py-1 rounded-full bg-gray-100 dark:bg-white/10 text-sm">
                                 <img id="mobile-current-flag" src="https://flagcdn.com/w20/ae.png" class="w-5 rounded-sm">
                                 <span id="mobile-current-text">AR</span>
                             </div>
                         </div>
                         <svg id="mobile-lang-arrow" class="w-5 h-5 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                     </button>
                     <div id="mobile-lang-dropdown" class="hidden mt-2 space-y-1 pl-1 text-right">
                         <!-- JS injected -->
                     </div>
                 </div>
             </div>
        </div>
    </header>

    <div class="h-28"></div>

    <!-- ========== MAIN CONTENT ========== -->
    <main>
        
        <!-- ========== HERO SECTION ========== -->
        <section id="hero" class="relative pt-8 pb-20 lg:pt-16 lg:pb-28 overflow-hidden bg-light-gray dark:bg-transparent transition-colors duration-500">
            <div class="container mx-auto px-6 grid lg:grid-cols-2 gap-16 items-center">
                <!-- Text Right Aligned for RTL -->
                <div class="text-center lg:text-right z-10">
                    <!-- Light Mode -->
                    <div class="block dark:hidden reveal">
                        <h1 class="text-5xl lg:text-7xl font-extrabold text-navy leading-tight mb-6 tracking-tight">
                            مرحبًا بكم في مستقبل التمويل الشخصي.
                        </h1>
                        <p class="text-xl text-gray-600 mb-8 max-w-lg mx-auto lg:mx-0 font-medium leading-relaxed">
                            Bancfy ليس مجرد تطبيق، إنه نظامك المالي الجديد. نجمع بين حكمة طريقة Kakebo وقوة الذكاء الاصطناعي لمنحك وضوحًا مطلقًا.
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                            <a href="#newsletter" class="bg-gold text-white px-8 py-4 rounded-full font-bold hover:bg-gold-hover transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1 text-lg">
                                انضم إلى الثورة
                            </a>
                            <a href="#features" class="bg-white text-navy border border-gray-200 px-8 py-4 rounded-full font-bold hover:bg-gray-50 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1 text-lg">
                                اكتشف المزيد
                            </a>
                        </div>
                    </div>

                    <!-- Dark Mode -->
                    <div class="hidden dark:block reveal">
                        <span class="text-neon-fucsia font-mono text-xs tracking-[0.3em] mb-4 block animate-pulse border border-neon-fucsia/30 inline-block px-3 py-1 rounded bg-neon-fucsia/10">> تجاوز النظام: نشط</span>
                        <h1 class="text-5xl lg:text-7xl font-black text-white leading-tight mb-6" style="text-shadow: 0 0 30px rgba(0, 255, 255, 0.3);">
                            مرحبًا بكم في <br><span class="text-neon-cian">NEXUS</span>.
                        </h1>
                        <!-- Changed border-l to border-r for RTL -->
                        <p class="text-xl text-gray-300 mb-8 max-w-lg mx-auto lg:mx-0 border-r-4 border-neon-fucsia pr-6 leading-relaxed">
                            لقد عبرت العتبة. هنا بياناتك ليست مجرد أرقام، إنها طاقة. تصور، اخترق عاداتك، وطور ثروتك.
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                            <a href="#newsletter" class="group relative bg-transparent border-2 border-neon-cian text-neon-cian px-8 py-4 rounded-full font-bold overflow-hidden transition-all shadow-[0_0_15px_rgba(0,255,255,0.3)] hover:shadow-[0_0_25px_rgba(0,255,255,0.6)]">
                                <span class="absolute w-0 h-0 transition-all duration-500 ease-out bg-neon-cian rounded-full group-hover:w-56 group-hover:h-56 opacity-10"></span>
                                <span class="relative">ابدأ البروتوكول</span>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Video Column -->
                <div class="relative flex justify-center reveal" style="transition-delay: 200ms;">
                    <div class="absolute -z-10 w-[120%] h-[120%] bg-white rounded-full blur-3xl opacity-60 dark:hidden"></div>
                    <div class="absolute -z-10 w-[120%] h-[120%] bg-neon-cian/5 rounded-full blur-3xl opacity-40 hidden dark:block"></div>

                    <div class="smartphone-mockup">
                        <div class="smartphone-notch"></div>
                        <div class="smartphone-screen">
                            <video id="hero-video-light" class="w-full h-full object-cover block dark:hidden" 
                                   autoplay loop muted playsinline preload="metadata">
                                <!-- Source dynamically set by JS -->
                            </video>
                            <video id="hero-video-dark" class="w-full h-full object-cover hidden dark:block" 
                                   autoplay loop muted playsinline preload="metadata">
                                <!-- Source dynamically set by JS -->
                            </video>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========== FEATURES SECTION ========== -->
        <section id="features" class="py-24 bg-white dark:bg-transparent transition-colors duration-500">
            <div class="container mx-auto px-6">
                <div class="text-center mb-20">
                    <h2 class="text-4xl lg:text-5xl font-extrabold text-navy dark:text-white reveal">التطبيق الأكثر شمولاً لصحتك المالية.</h2>
                    <p class="text-gray-600 dark:text-gray-400 mt-4 max-w-3xl mx-auto reveal text-lg">لقد جمعنا بين الأساليب المثبتة والتكنولوجيا المتطورة لمنحك تحكمًا غير مسبوق.</p>
                </div>

                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Cards -->
                    <div class="p-8 rounded-3xl bg-light-gray banhyde-card transition-all duration-300 hover:shadow-lg reveal group h-full">
                        <div class="w-14 h-14 rounded-full bg-gold text-white flex items-center justify-center mb-6 text-2xl dark:bg-transparent dark:border-2 dark:border-neon-cian dark:text-neon-cian dark:shadow-[0_0_10px_rgba(0,255,255,0.3)] transition-all">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-navy dark:text-white mb-3">طريقة Kakebo الرقمية</h3>
                        <p class="text-gray-600 dark:text-gray-300 leading-relaxed">فن التوفير الياباني، مبسط. سجل، حلل، وكن واعيًا حقًا بكل فلس تنفقه.</p>
                    </div>

                    <div class="p-8 rounded-3xl bg-light-gray banhyde-card transition-all duration-300 hover:shadow-lg reveal group h-full" style="transition-delay: 100ms;">
                        <div class="w-14 h-14 rounded-full bg-gold text-white flex items-center justify-center mb-6 text-2xl dark:bg-transparent dark:border-2 dark:border-neon-cian dark:text-neon-cian dark:shadow-[0_0_10px_rgba(0,255,255,0.3)] transition-all">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-navy dark:text-white mb-3">Bancbot، مدربك الذكي</h3>
                        <p class="text-gray-600 dark:text-gray-300 leading-relaxed">احصل على نصائح مخصصة للغاية بفضل التعلم الآلي الذي يتعلم من عاداتك اليومية.</p>
                    </div>

                    <div class="p-8 rounded-3xl bg-light-gray banhyde-card transition-all duration-300 hover:shadow-lg reveal group h-full" style="transition-delay: 200ms;">
                         <div class="w-14 h-14 rounded-full bg-gold text-white flex items-center justify-center mb-6 text-2xl dark:bg-transparent dark:border-2 dark:border-neon-cian dark:text-neon-cian dark:shadow-[0_0_10px_rgba(0,255,255,0.3)] transition-all">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-navy dark:text-white mb-3">ألعاب ممتعة</h3>
                        <p class="text-gray-600 dark:text-gray-300 leading-relaxed">التوفير لعبة. اكسب الجوائز، وارتقِ بالمستوى، وتنافس في تحديات فردية أو مع الأصدقاء.</p>
                    </div>

                    <div class="p-8 rounded-3xl bg-light-gray banhyde-card transition-all duration-300 hover:shadow-lg reveal group h-full" style="transition-delay: 300ms;">
                        <div class="w-14 h-14 rounded-full bg-gold text-white flex items-center justify-center mb-6 text-2xl dark:bg-transparent dark:border-2 dark:border-neon-cian dark:text-neon-cian dark:shadow-[0_0_10px_rgba(0,255,255,0.3)] transition-all">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-navy dark:text-white mb-3">جميع حساباتك</h3>
                        <p class="text-gray-600 dark:text-gray-300 leading-relaxed">الجارية، التوفير، الاستثمار، العملات المشفرة والائتمان. كل شيء مركزي في مكان واحد، حتى الحسابات المشتركة.</p>
                    </div>

                    <div class="p-8 rounded-3xl bg-light-gray banhyde-card transition-all duration-300 hover:shadow-lg reveal group h-full" style="transition-delay: 400ms;">
                         <div class="w-14 h-14 rounded-full bg-gold text-white flex items-center justify-center mb-6 text-2xl dark:bg-transparent dark:border-2 dark:border-neon-cian dark:text-neon-cian dark:shadow-[0_0_10px_rgba(0,255,255,0.3)] transition-all">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-navy dark:text-white mb-3">تعليم تفاعلي</h3>
                        <p class="text-gray-600 dark:text-gray-300 leading-relaxed">تعلم التمويل من خلال الألعاب المصغرة وكبسولات المعرفة. افتح مستويات الحكمة المالية!</p>
                    </div>

                    <div class="p-8 rounded-3xl bg-light-gray banhyde-card transition-all duration-300 hover:shadow-lg reveal group h-full" style="transition-delay: 500ms;">
                        <div class="w-14 h-14 rounded-full bg-gold text-white flex items-center justify-center mb-6 text-2xl dark:bg-transparent dark:border-2 dark:border-neon-cian dark:text-neon-cian dark:shadow-[0_0_10px_rgba(0,255,255,0.3)] transition-all">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-navy dark:text-white mb-3">رادار الفرص</h3>
                        <p class="text-gray-600 dark:text-gray-300 leading-relaxed">اكتشف التأثير الحقيقي لنفقات "النمل" و"مصاصي الدماء"، وتخيل كم كان بإمكانك كسبه من خلال استثمارها.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========== 3D SHOWCASE ========== -->
        <section id="central" class="py-12 relative overflow-hidden bg-white dark:bg-transparent transition-colors">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-4xl md:text-5xl font-extrabold text-navy dark:text-neon-cian mb-4 reveal">
                    تصور نجاحك المالي
                </h2>
                <p class="text-gray-600 dark:text-gray-400 max-w-xl mx-auto reveal mb-8 text-lg">
                    واجهة مصممة لتقع في حب عقلك العقلاني والعاطفي.
                </p>
                <div class="carousel-scene dark:opacity-90">
                    <div class="carousel-container" id="carousel-container">
                        <!-- JS injected -->
                    </div>
                </div>
            </div>
        </section>

        <!-- ========== STORYTELLING ========== -->
        <section id="story" class="py-24 bg-navy text-white transition-colors duration-500 dark:bg-transparent relative">
            <div class="container mx-auto px-6 relative z-10">
                <div class="max-w-4xl mx-auto banhyde-card rounded-3xl p-8 md:p-10">
                    <div class="text-center mb-10 reveal">
                        <span class="font-bold text-gold dark:text-neon-cian tracking-widest text-sm uppercase transition-colors">قصتنا</span>
                        <h2 class="text-3xl md:text-5xl font-extrabold mt-4 text-white">من عدم اليقين إلى الوضوح مع Bancfy</h2>
                    </div>
                    <div class="text-gray-300 space-y-6 text-lg leading-relaxed reveal" style="transition-delay: 200ms;">
                        <p>في مرحلة ما، شعرنا جميعًا بالإرهاق من مواردنا المالية. نفقات غير متوقعة، قرارات متهورة، والشعور بأن المال يتسرب من بين أصابعنا. كنت هناك أيضًا.</p>
                        <p class="font-bold text-white text-xl">لسنوات، كافحت مع أموالي دون أن أفهم سبب عدم قدرتي على الادخار. استهلكت "نفقات مصاصي الدماء" ميزانيتي دون أن ألاحظ. شعرت بالضياع، دون أدوات تساعدني حقًا.</p>
                        <p>كان ذلك عندما قررت السيطرة. وهكذا ولدت فكرة Bancfy: أداة لا تدير المال فحسب، بل تعلم وتحفز وتغير علاقتك به.</p>
                        <p>Bancfy هو رفيقك في الرحلة نحو الصحة المالية. ما يميزنا هو النهج الشامل: لا يتعلق الأمر بالتحكم فحسب، بل بالفهم والتعلم واتخاذ قرارات مستنيرة. إنها أداة مصممة لتمكينك.</p>
                        <p class="text-xl font-bold text-center mt-12 text-gold dark:text-neon-cian transition-colors">اليوم، أدعوك لاتخاذ الخطوة الأولى نحو حياة مالية أكثر صحة ووعيًا. انضم إلى مجتمع Bancfy.</p>
                    </div>
                    <div class="text-center mt-16 reveal">
                        <button id="portal-btn" onclick="toggleBanhydeMode()" 
                                class="inline-flex items-center justify-center px-10 py-5 text-lg font-bold text-white transition-all duration-300 border-2 border-gold rounded-full hover:bg-gold hover:text-white dark:border-neon-fucsia dark:text-neon-fucsia dark:hover:bg-neon-fucsia dark:hover:text-white dark:hover:shadow-[0_0_20px_#F50057] transform hover:scale-105">
                            <span id="portal-text">تفعيل وضع Banhyde</span>
                            <!-- Rotated Icon for RTL -->
                            <svg class="w-6 h-6 mr-3 rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========== FAQ ========== -->
        <section id="faq" class="py-24 bg-white dark:bg-transparent transition-colors">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-extrabold text-navy dark:text-white reveal">الأسئلة الشائعة</h2>
                    <p class="text-gray-600 dark:text-gray-400 mt-2 max-w-2xl mx-auto reveal text-lg">هل لديك شكوك؟ هنا نحل أكثرها شيوعًا.</p>
                </div>
                <div class="max-w-4xl mx-auto space-y-6">
                    <!-- FAQ Items -->
                    <div class="faq-item banhyde-card rounded-2xl border border-gray-100 dark:border-neon-cian/20 p-2 reveal">
                        <!-- text-right for RTL -->
                        <button class="faq-question w-full flex justify-between items-center text-right text-lg font-bold text-navy dark:text-white hover:text-gold dark:hover:text-neon-cian transition-colors p-4">
                            <span>ما هو Bancfy بالضبط؟</span>
                            <svg class="faq-arrow w-6 h-6 text-gold dark:text-neon-cian flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="faq-answer text-gray-600 dark:text-gray-300 px-4">
                            <p class="pb-4">Bancfy هو مدربك المالي الشخصي. لقد حولنا طريقة Kakebo اليابانية إلى تجربة رقمية وبديهية وممتعة. نحن لا نساعدك فقط على تسجيل نفقاتك، بل نساعدك على فهمها والسيطرة على أموالك بطريقة بسيطة ومحفزة.</p>
                        </div>
                    </div>
                    <div class="faq-item banhyde-card rounded-2xl border border-gray-100 dark:border-neon-cian/20 p-2 reveal">
                        <button class="faq-question w-full flex justify-between items-center text-right text-lg font-bold text-navy dark:text-white hover:text-gold dark:hover:text-neon-cian transition-colors p-4">
                            <span>هل استخدام بياناتي آمن في Bancfy؟</span>
                            <svg class="faq-arrow w-6 h-6 text-gold dark:text-neon-cian flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="faq-answer text-gray-600 dark:text-gray-300 px-4">
                            <p class="pb-4">بالتأكيد. الأمان هو ركيزتنا الأساسية. جميع معلوماتك محمية بتشفير من طرف إلى طرف وبروتوكولات أمان على المستوى المصرفي. خصوصيتك وبياناتك ملك لك وحدك.</p>
                        </div>
                    </div>
                    <div class="faq-item banhyde-card rounded-2xl border border-gray-100 dark:border-neon-cian/20 p-2 reveal">
                        <button class="faq-question w-full flex justify-between items-center text-right text-lg font-bold text-navy dark:text-white hover:text-gold dark:hover:text-neon-cian transition-colors p-4">
                            <span>هل سأتمكن من المزامنة عبر أجهزة مختلفة؟</span>
                            <svg class="faq-arrow w-6 h-6 text-gold dark:text-neon-cian flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="faq-answer text-gray-600 dark:text-gray-300 px-4">
                            <p class="pb-4">بالطبع! تتم مزامنة معلوماتك في الوقت الفعلي عبر جميع أجهزتك. بالإضافة إلى ذلك، قمنا بتضمين ميزة "الحسابات المشتركة"، وهي مثالية لإدارة الشؤون المالية كزوجين أو مع العائلة أو زملاء السكن.</p>
                        </div>
                    </div>
                    <div class="faq-item banhyde-card rounded-2xl border border-gray-100 dark:border-neon-cian/20 p-2 reveal">
                        <button class="faq-question w-full flex justify-between items-center text-right text-lg font-bold text-navy dark:text-white hover:text-gold dark:hover:text-neon-cian transition-colors p-4">
                            <span>هل يجب علي ربط حسابي المصرفي؟</span>
                            <svg class="faq-arrow w-6 h-6 text-gold dark:text-neon-cian flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="faq-answer text-gray-600 dark:text-gray-300 px-4">
                            <p class="pb-4"><strong>لا.</strong> Bancfy ليس بنكًا ولا يتصل بحساباتك المصرفية. نحن نؤمن بالخصوصية المطلقة والطريقة الواعية. لديك السيطرة الكاملة على بياناتك، دون وسطاء مصرفيين.</p>
                        </div>
                    </div>
                    <div class="faq-item banhyde-card rounded-2xl border border-gray-100 dark:border-neon-cian/20 p-2 reveal">
                        <button class="faq-question w-full flex justify-between items-center text-right text-lg font-bold text-navy dark:text-white hover:text-gold dark:hover:text-neon-cian transition-colors p-4">
                            <span>هل Bancfy مجاني؟</span>
                            <svg class="faq-arrow w-6 h-6 text-gold dark:text-neon-cian flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="faq-answer text-gray-600 dark:text-gray-300 px-4">
                            <p class="pb-4">نعم، قلب Bancfy مجاني وسيظل كذلك دائمًا، مما يمنحك جميع الأدوات التي تحتاجها لحياتك اليومية. لأولئك الذين يرغبون في الارتقاء بأموالهم إلى المستوى التالي، سنقدم خيارات Premium تكميلية بميزات متقدمة.</p>
                        </div>
                    </div>
                    <div class="faq-item banhyde-card rounded-2xl border border-gray-100 dark:border-neon-cian/20 p-2 reveal">
                        <button class="faq-question w-full flex justify-between items-center text-right text-lg font-bold text-navy dark:text-white hover:text-gold dark:hover:text-neon-cian transition-colors p-4">
                            <span>ما هي العملات والعملات المشفرة التي يدعمها؟</span>
                            <svg class="faq-arrow w-6 h-6 text-gold dark:text-neon-cian flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="faq-answer text-gray-600 dark:text-gray-300 px-4">
                            <p class="pb-4">نحن مستعدون لعالم عالمي. Bancfy متوافق مع أكثر من 50 عملة تقليدية وأكثر من 30 من أهم العملات المشفرة، بحيث يكون لديك رؤية كاملة لجميع أصولك في مكان واحد.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========== NEWSLETTER ========== -->
        <section id="newsletter" class="py-24 bg-light-gray dark:bg-banhyde-bg border-y border-transparent dark:border-neon-cian/20 relative overflow-hidden transition-colors">
             <!-- Swapped left/right positioning for RTL -->
             <div class="absolute top-0 left-0 w-80 h-80 bg-neon-fucsia/10 rounded-full blur-[100px] hidden dark:block"></div>
             <div class="absolute bottom-0 right-0 w-80 h-80 bg-neon-cian/10 rounded-full blur-[100px] hidden dark:block"></div>

            <div class="container mx-auto px-6 text-center relative z-10">
                <h2 class="text-4xl md:text-6xl font-black text-navy dark:text-white reveal leading-tight">
                    تبدأ الثورة المالية في <br><span class="text-gold dark:text-neon-cian">يناير 2026</span>.
                </h2>
                <p class="text-gray-600 dark:text-gray-300 mt-6 max-w-2xl mx-auto mb-10 reveal text-lg">
                    لا تترك نفسك في الخارج. اشترك في نشرتنا الإخبارية وكن أول من يحصل على وصول مبكر وأخبار حصرية ونصائح.
                </p>
                <form id="newsletter-form" class="max-w-lg mx-auto flex flex-col sm:flex-row gap-4 reveal">
                    <input type="email" name="email" placeholder="أفضل بريد إلكتروني لديك" required 
                           class="flex-1 px-6 py-4 rounded-full border-2 border-gray-200 focus:border-gold focus:ring-gold outline-none dark:bg-black/50 dark:border-neon-cian/50 dark:text-white dark:focus:border-neon-cian transition-all shadow-inner text-right">
                    <button type="submit" class="bg-gold text-white font-bold py-4 px-8 rounded-full shadow-lg hover:bg-gold-hover transition-all transform hover:scale-105 dark:bg-neon-cian dark:text-black dark:hover:bg-white dark:shadow-[0_0_15px_#00FFFF]">
                        سجلني!
                    </button>
                </form>
            </div>
        </section>

        <!-- ========== CONTACT ========== -->
        <section id="contact" class="py-24 bg-white dark:bg-transparent transition-colors">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-extrabold text-navy dark:text-white reveal">هل نتحدث؟</h2>
                    <p class="text-gray-600 dark:text-gray-400 mt-4 max-w-2xl mx-auto reveal text-lg">
                        للتعاون أو الصحافة أو أي استفسار آخر، فريقنا مستعد للاستماع. املأ النموذج أو راسلنا على <span class="text-gold dark:text-neon-cian font-bold">info@bancfy.com</span>.
                    </p>
                </div>
                
                <form id="contact-form" action="https://formspree.io/f/mblkoarn" method="POST" class="max-w-xl mx-auto banhyde-card p-10 rounded-[2.5rem] shadow-2xl border border-gray-100 dark:border-neon-cian/30 reveal">
                    <div class="space-y-6">
                        <div>
                            <!-- Margin right instead of left -->
                            <label class="block text-sm font-bold text-navy dark:text-white mb-2 mr-2">الاسم</label>
                            <input type="text" name="name" required class="w-full px-6 py-4 rounded-full border border-gray-300 focus:border-gold focus:ring-1 focus:ring-gold outline-none dark:bg-black/40 dark:border-gray-700 dark:text-white dark:focus:border-neon-cian transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-navy dark:text-white mb-2 mr-2">البريد الإلكتروني</label>
                            <input type="email" name="email" required class="w-full px-6 py-4 rounded-full border border-gray-300 focus:border-gold focus:ring-1 focus:ring-gold outline-none dark:bg-black/40 dark:border-gray-700 dark:text-white dark:focus:border-neon-cian transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-navy dark:text-white mb-2 mr-2">الموضوع</label>
                            <input type="text" name="subject" required class="w-full px-6 py-4 rounded-full border border-gray-300 focus:border-gold focus:ring-1 focus:ring-gold outline-none dark:bg-black/40 dark:border-gray-700 dark:text-white dark:focus:border-neon-cian transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-navy dark:text-white mb-2 mr-2">الرسالة</label>
                            <textarea name="message" rows="4" required class="w-full px-6 py-4 rounded-3xl border border-gray-300 focus:border-gold focus:ring-1 focus:ring-gold outline-none dark:bg-black/40 dark:border-gray-700 dark:text-white dark:focus:border-neon-cian transition-all"></textarea>
                        </div>
                        <button type="submit" class="w-full bg-gold text-white font-bold py-4 rounded-full hover:bg-gold-hover transition-all dark:bg-neon-fucsia dark:hover:bg-white dark:hover:text-neon-fucsia dark:shadow-[0_0_15px_#F50057] transform hover:scale-[1.02]">
                            إرسال الرسالة
                        </button>
                    </div>
                    <p id="form-status" class="text-center mt-4 text-sm font-bold hidden"></p>
                </form>
            </div>
        </section>

        <!-- ========== FOOTER ========== -->
        <footer class="bg-navy text-white py-12 dark:bg-black dark:border-t dark:border-gray-800 transition-colors">
            <div class="container mx-auto px-6 flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0 text-center md:text-right">
                    <h4 class="text-xl font-bold mb-2">© 2025 Bancfy. جميع الحقوق محفوظة.</h4>
                    <p class="text-gray-400 text-sm">صمم بـ <span class="text-gold dark:text-neon-cian">♥</span> لرفاهيتك المالية.</p>
                </div>
                <div class="flex space-x-6">
                    <a href="https://www.instagram.com/bancfyapp" target="_blank" class="text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919C8.416 2.175 8.796 2.163 12 2.163zm0 1.802c-3.143 0-3.505.011-4.73.068-2.695.123-3.993 1.423-4.116 4.116-.057 1.225-.068 1.586-.068 4.73s.011 3.505.068 4.73c.123 2.692 1.421 3.993 4.116 4.116 1.225.057 1.587.068 4.73.068s3.505-.011 4.73-.068c2.695-.123 3.993-1.423 4.116-4.116.057-1.225.068-1.586.068-4.73s-.011-3.505-.068-4.73c-.123-2.692-1.421-3.993-4.116-4.116-1.225-.057-1.586-.068-4.73-.068zm0 3.064c-2.835 0-5.153 2.318-5.153 5.153s2.318 5.153 5.153 5.153 5.153-2.318 5.153-5.153-2.318 5.153-5.153-2.318 5.153-5.153-2.318 5.153-5.153-2.318 5.153-5.153-2.318 5.153-5.153-2.318 5.153-5.153-2.318 5.153-5.153-2.318 5.153-5.153-2.318 5.153-5.153-2.318 5.153-5.153-2.318 5.153-5.153-2.318 5.153-5.153-5.153zm0 8.505c-1.841 0-3.35-1.509-3.35-3.35s1.509-3.35 3.35-3.35 3.35 1.509 3.35 3.35-1.509 3.35-3.35 3.35zm4.512-8.305c-.796 0-1.441.645-1.441 1.441s.645 1.441 1.441 1.441 1.441-.645 1.441-1.441-.645-1.441-1.441-1.441z"/></svg>
                    </a>
                    <a href="https://www.tiktok.com/@bancfyapp" target="_blank" class="text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-2.43.05-4.84-.95-6.43-2.8-1.59-1.87-2.25-4.38-1.91-6.78.34-2.4 1.91-4.44 3.96-5.74.96-.6 2.07-.97 3.22-1.15.06-1.54.03-3.08.01-4.63.23-.02.47-.02.7-.02 1.33-.01 2.65-.02 3.98-.03z"/></svg>
                    </a>
                    <a href="https://www.youtube.com/@stiluproject" target="_blank" class="text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
                    </a>
                </div>
            </div>
        </footer>

    </main>

    <!-- FIREBASE SDK (FIRESTORE) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp, query, where, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // تكوين Firebase الحقيقي
        const firebaseConfig = {
            apiKey: "AIzaSyDMjE9AFpmtPKcvZDMx-okQoKpHcjUF-Uc",
            authDomain: "bancfy.firebaseapp.com",
            databaseURL: "https://bancfy-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "bancfy",
            storageBucket: "bancfy.appspot.com",
            messagingSenderId: "151762707230",
            appId: "1:151762707230:web:2143e1d92e6a90f2689f0f",
            measurementId: "G-RS0WGCECK3"
        };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
        // عرض DB للنطاق العام لاستخدامها في النموذج
        window.db = db;
        window.firestore = { collection, addDoc, serverTimestamp, query, where, getDocs };
    </script>

    <!-- ========== منطق JAVASCRIPT ========== -->
    <script>
        const body = document.body;
        const portalBtn = document.getElementById('portal-btn');
        const portalText = document.getElementById('portal-text');
        const videoLight = document.getElementById('hero-video-light');
        const videoDark = document.getElementById('hero-video-dark');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        
        // متغيرات الحالة
        // قراءة التفضيل الأولي
        let isBanhyde = localStorage.getItem('banhydeMode') === 'true';
        let currentLang = 'ar'; // الافتراضي عربي

        // تحديث النص الأولي للزر إذا كنا بالفعل في الوضع الداكن
        if (isBanhyde && portalText) {
            portalText.textContent = "العودة إلى النور";
        }

        // --- منطق اللغات الكامل ---
        const supportedLangs = {
            'es': { name: 'Español', flag: 'es', url: '/es/' },
            'ca': { name: 'Català', flagUrl: 'https://upload.wikimedia.org/wikipedia/commons/c/ce/Flag_of_Catalonia.svg', url: '/ca/' },
            'eu': { name: 'Euskara', flagUrl: 'https://upload.wikimedia.org/wikipedia/commons/2/2d/Flag_of_the_Basque_Country.svg', url: '/eu/' },
            'en': { name: 'English', flag: 'gb', url: '/' },
            'de': { name: 'Deutsch', flag: 'de', url: '/de/' },
            'de-ch': { name: 'Schweizerdeutsch', flag: 'ch', url: '/de-ch/' }, 
            'fr': { name: 'Français', flag: 'fr', url: '/fr/' },
            'it': { name: 'Italiano', flag: 'it', url: '/it/' },
            'pt': { name: 'Português', flag: 'pt', url: '/pt/' },
            'ja': { name: '日本語', flag: 'jp', url: '/ja/' },
            'ko': { name: '한국어', flag: 'kr', url: '/ko/' },
            'zh': { name: '中文', flag: 'cn', url: '/zh/' },
            'ar': { name: 'العربية', flag: 'ae', url: '/ar/' }
        };

        // --- وظائف الأصول الديناميكية ---
        
        // 2. تحديث فيديوهات Hero
        function updateHeroVideos() {
            // FIX: مسارات مطلقة لتجنب الأخطاء في المجلدات الفرعية
            
            // محدث: استخدام _en_ للنسخة العربية كما هو مطلوب
            const srcLight = `/images/hero_en_clar.mp4`;
            const srcDark = `/images/hero_en_osc.mp4`;
            
            // تحديث المصادر إذا تغيرت
            if (!videoLight.src.includes(srcLight)) videoLight.src = srcLight;
            if (!videoDark.src.includes(srcDark)) videoDark.src = srcDark;
        }

        // 3. تحديث صور الكاروسيل
        function updateCarouselImages() {
            const container = document.getElementById('carousel-container');
            container.innerHTML = ''; // مسح العناصر السابقة

            for (let i = 1; i <= 8; i++) {
                const item = document.createElement('div');
                item.className = 'carousel-item';
                
                const modeSuffix = isBanhyde ? 'osc' : 'clar';
                
                // محدث: استخدام _en_ للنسخة العربية كما هو مطلوب
                const imgSrc = `/images/carru${i}_en_${modeSuffix}.png`;
                
                item.style.backgroundImage = `url('${imgSrc}')`;
                container.appendChild(item);
            }
        }

        // 4. تعيين اللغة (واجهة المستخدم فقط)
        function setLanguage(code) {
            currentLang = code;
            
            // تحديث واجهة مستخدم محدد سطح المكتب
            const langData = supportedLangs[code];
            const flagSrc = langData.flagUrl || `https://flagcdn.com/w20/${langData.flag}.png`;
            document.getElementById('desktop-flag-img').src = flagSrc;
            document.getElementById('desktop-lang-code').textContent = code.toUpperCase();
            
            // تحديث الأصول
            updateHeroVideos();
            updateCarouselImages();
        }

        // تهيئة محددات اللغة
        const dropdownInner = document.querySelector('#lang-dropdown .lang-inner');
        
        // --- منطق القائمة المنسدلة للهاتف ---
        const mobileLangDropdown = document.getElementById('mobile-lang-dropdown');
        const mobileLangBtn = document.getElementById('mobile-lang-btn');
        const mobileLangArrow = document.getElementById('mobile-lang-arrow');

        // تبديل القائمة المنسدلة للهاتف
        mobileLangBtn.addEventListener('click', () => {
            mobileLangDropdown.classList.toggle('hidden');
            mobileLangArrow.classList.toggle('rotate-180');
        });

        for (const [code, lang] of Object.entries(supportedLangs)) {
            const flagSrc = lang.flagUrl || `https://flagcdn.com/w20/${lang.flag}.png`;
            
            // عنصر سطح المكتب (رابط حقيقي <a>)
            // text-right for RTL dropdown items
            const item = document.createElement('a'); 
            item.href = lang.url; 
            item.className = "w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-neon-cian/20 text-sm text-gray-700 dark:text-gray-300 transition-colors border-b border-gray-50 dark:border-gray-800 last:border-0 text-right";
            item.innerHTML = `<img src="${flagSrc}" class="w-5 rounded-sm shadow-sm"> ${lang.name}`;
            dropdownInner.appendChild(item);

            // عنصر الهاتف (رابط حقيقي <a>)
            const mobileItem = document.createElement('a');
            mobileItem.href = lang.url; 
            mobileItem.className = "flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-white/5 text-navy dark:text-gray-300 transition-colors";
            mobileItem.innerHTML = `<img src="${flagSrc}" class="w-6 rounded-sm shadow-sm"> <span class="text-base font-medium">${lang.name}</span>`;
            mobileLangDropdown.appendChild(mobileItem);
        }

        // --- قائمة الهاتف ---
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // --- وضع BANHYDE ---
        function toggleBanhydeMode() {
            body.classList.add('glitching');
            setTimeout(() => {
                isBanhyde = !isBanhyde;
                
                // حفظ التفضيل
                localStorage.setItem('banhydeMode', isBanhyde);

                if (isBanhyde) {
                    document.documentElement.classList.add('dark');
                    if(portalText) portalText.textContent = "العودة إلى النور";
                } else {
                    document.documentElement.classList.remove('dark');
                    if(portalText) portalText.textContent = "تفعيل وضع Banhyde";
                }
                // تحديث الكاروسيل عند تغيير الوضع
                updateCarouselImages();
                
            }, 250);
            setTimeout(() => body.classList.remove('glitching'), 500);
        }

        // --- رسوم متحركة للتمرير ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // --- منطق الأسئلة الشائعة ---
        document.querySelectorAll('.faq-question').forEach(button => {
            button.addEventListener('click', () => button.parentElement.classList.toggle('active'));
        });

        // --- تحسين الفيديو (Intersection Observer) ---
        const videoObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                // نتحكم فقط في الفيديو المرئي حاليًا
                const video = entry.target;
                const isVisible = (video.id === 'hero-video-dark' && isBanhyde) || (video.id === 'hero-video-light' && !isBanhyde);
                
                if (entry.isIntersecting && isVisible) {
                    video.play().catch(e => console.log("تم منع التشغيل التلقائي", e));
                } else {
                    video.pause();
                }
            });
        }, { threshold: 0.5 }); 

        videoObserver.observe(videoLight);
        videoObserver.observe(videoDark);

        // --- التهيئة ---
        // تحميل الأصول الأولية
        updateHeroVideos();
        updateCarouselImages();


        // --- منطق FORMSPREE (الاتصال) ---
        const contactForm = document.getElementById('contact-form');
        const formStatus = document.getElementById('form-status');

        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = contactForm.querySelector('button');
            const originalText = btn.innerHTML;
            
            btn.disabled = true;
            btn.innerHTML = 'جارٍ الإرسال...';
            
            const formData = new FormData(contactForm);
            
            try {
                const response = await fetch(contactForm.action, {
                    method: 'POST',
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                });
                
                if (response.ok) {
                    formStatus.textContent = "تم إرسال الرسالة بنجاح!";
                    formStatus.className = "text-center mt-4 text-sm font-bold text-green-500 dark:text-neon-cian block";
                    contactForm.reset();
                } else {
                    throw new Error();
                }
            } catch (err) {
                formStatus.textContent = "حدث خطأ. حاول مرة أخرى.";
                formStatus.className = "text-center mt-4 text-sm font-bold text-red-500 dark:text-neon-fucsia block";
            } finally {
                btn.disabled = false;
                btn.innerHTML = originalText;
            }
        });

        // --- منطق FIRESTORE (النشرة الإخبارية) ---
        const newsletterForm = document.getElementById('newsletter-form');
        
        newsletterForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = newsletterForm.querySelector('button');
            const emailInput = newsletterForm.querySelector('input[name="email"]');
            const email = emailInput.value;
            const originalText = btn.innerHTML;

            if (!window.firestore || !window.db) {
                alert("خطأ في الاتصال. أعد تحميل الصفحة.");
                return;
            }

            btn.disabled = true;
            btn.textContent = "جارٍ المعالجة...";

            try {
                const { collection, addDoc, serverTimestamp, query, where, getDocs } = window.firestore;
                const ref = collection(window.db, "subscribers");
                
                // التحقق من التكرار
                const q = query(ref, where("email", "==", email));
                const snapshot = await getDocs(q);

                if (!snapshot.empty) {
                    alert("أنت مشترك بالفعل!");
                } else {
                    await addDoc(ref, {
                        email: email,
                        subscribedAt: serverTimestamp(),
                        lang: 'ar'
                    });
                    alert("شكرًا لانضمامك إلى الثورة!");
                    newsletterForm.reset();
                }
            } catch (err) {
                console.error(err);
                alert("خطأ في الاشتراك.");
            } finally {
                btn.disabled = false;
                btn.innerHTML = originalText;
            }
        });

    </script>
</body>
</html>
